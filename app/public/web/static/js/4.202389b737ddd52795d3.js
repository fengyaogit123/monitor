webpackJsonp([4],{nSwe:function(t,e){},xZ8w:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("Xxa5"),a=n.n(r),o=n("exGp"),s=n.n(o),i=n("0jG4"),c=(n("YaEn"),n("1nuA"),{name:"Project",data:function(){return{loading:!1,data:[],count:0,params:{pageNo:1,size:20},rows:[],columns:function(){var t=this;return[{type:"selection",width:60,align:"center"},{title:"项目ID",key:"_id",width:220,align:"center",render:function(e,n){var r=n.row;return e(Button,{on:{click:function(){t.$router.push({name:"Configure"})}},attrs:{type:"text"},class:"link"},[r._id])}},{title:"项目名称",key:"pName",align:"center"},{title:"email配置",align:"center",key:"sendEmails",render:function(t,e){var n=e.row;return 0==n.sendEmails.length?"无":t(Dropdown,null,[t("a",{attrs:{href:"javascript:void(0)"}},["查看",t(Icon,{attrs:{type:"arrow-down-b"}})]),t(DropdownMenu,{slot:"list"},[n.sendEmails.map(function(e){return t(DropdownItem,null,[e])})])])}},{title:"hosts过滤",align:"center",key:"hosts",render:function(t,e){var n=e.row;return 0==n.hosts.length?"无":t(Dropdown,null,[t("a",{attrs:{href:"javascript:void(0)"}},["查看",t(Icon,{attrs:{type:"arrow-down-b"}})]),t(DropdownMenu,{slot:"list"},[n.hosts.map(function(e){return t(DropdownItem,null,[e])})])])}},{title:"error过滤",align:"center",key:"filter",render:function(t,e){var n=e.row;return 0==n.filter.length?"无":t(Dropdown,null,[t("a",{attrs:{href:"javascript:void(0)"}},["查看",t(Icon,{attrs:{type:"arrow-down-b"}})]),t(DropdownMenu,{slot:"list"},[n.filter.map(function(e){return t(DropdownItem,null,[e])})])])}},{title:"操作",align:"center",width:100,render:function(t,e){return e.row,t(Button,{attrs:{type:"error",size:"small"}},["删除"])}}]}.call(this)}},created:function(){this.showList()},methods:{pageChange:function(t){this.params.pageNo=t,this.showList()},reset:function(){this.$refs.form.resetFields()},showList:function(){var t=this;return s()(a.a.mark(function e(){var n,r,o,s,c;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.b.get(t.params);case 2:n=e.sent,r=n.data,o=r.rows,s=void 0===o?[]:o,c=r.count,t.data=s,t.count=c,t.$Message.success("加载完成");case 8:case"end":return e.stop()}},e,t)}))()},selectChange:function(t){this.rows=t},deletes:function(){var t=this;return s()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.$Modal.confirm({title:"提示",content:"是否确认删除？",onOk:function(){var e=s()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Log.delete({ids:t.rows.map(function(t){return t._id})});case 2:t.$Message.success("删除成功!"),t.showList();case 4:case"end":return e.stop()}},e,t)}));return function(){return e.apply(this,arguments)}}(),onCancel:function(){}});case 1:case"end":return e.stop()}},e,t)}))()}}}),u={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("FyLayout",{attrs:{id:"project",bgColor:"#fff"}},[n("SearchBox",{staticClass:"margin-bottom-20"},[n("div",{staticClass:"font-center",attrs:{slot:"left"},slot:"left"},[n("Input",{staticClass:"search-input",attrs:{icon:"search",placeholder:"项目名称",size:"large"},model:{value:t.value4,callback:function(e){t.value4=e},expression:"value4"}})],1),t._v(" "),n("Row",{attrs:{slot:"right"},slot:"right"},[n("Button",{attrs:{type:"primary"},on:{click:function(e){t.showList()}}},[t._v("查询")]),t._v(" "),n("Button",{attrs:{type:"error"},on:{click:function(e){t.deletes()}}},[t._v("删除")]),t._v(" "),n("Button",{attrs:{type:"ghost"},on:{click:function(e){t.reset()}}},[t._v("重置")])],1)],1),t._v(" "),n("Table",{attrs:{border:"",columns:t.columns,data:t.data}}),t._v(" "),n("Block",{attrs:{align:"right"}},[n("Page",{attrs:{total:t.count,"page-size":t.params.size,"show-elevator":"",current:t.params.pageNo,"show-total":""},on:{"update:current":function(e){t.$set(t.params,"pageNo",e)},"on-change":t.pageChange}})],1)],1)},staticRenderFns:[]};var l=n("VU/8")(c,u,!1,function(t){n("nSwe")},null,null);e.default=l.exports}});