{"version":3,"sources":["webpack:///src/pages/project/index.vue","webpack:///./src/pages/project/columns.js","webpack:///./src/pages/project/index.vue?0445","webpack:///./src/pages/project/index.vue"],"names":["project","_this","this","type","width","align","title","key","render","h","_ref","row","Button","on","click","$router","push","name","attrs","class","_id","_ref2","sendEmails","length","Dropdown","href","Icon","DropdownMenu","slot","map","item","DropdownItem","_ref3","hosts","_ref4","filter","_ref5","size","showList","pageNo","resetFields","params","data","rows","undefined","_data$rows","count","_this2","regenerator_default","a","wrap","_context2","pages_project","_vm","_h","$createElement","_c","_self","id","bgColor","staticClass","icon","placeholder","model","value","callback","$$v","value4","expression","_v","$event","deletes","reset","border","columns","total","page-size","show-elevator","current","show-total","update:current","$set","on-change","pageChange","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"oLAyBAA,6BAEA,0CAGA,gBAEA,4CC3BA,WAA2B,IAAAC,EAAAC,KACvB,QAEQC,KAAM,YACNC,MAAO,GACPC,MAAO,WAGPC,MAAO,OACPC,IAAK,MACLH,MAAO,IACPC,MAAO,SACPG,OAAQ,SAACC,EAADC,GAAgB,IAAVC,EAAUD,EAAVC,IAMV,OAAOF,EAACG,QAADC,IAAAC,MALS,WACZb,EAAKc,QAAQC,MACTC,KAAM,gBAGPC,OAA0Bf,KAAK,QAAOgB,MAAM,SAAQR,EAAIS,SAInEd,MAAO,OACPC,IAAK,QACLF,MAAO,WAGPC,MAAO,UACPD,MAAO,SACPE,IAAK,aACLC,OAAQ,SAACC,EAADY,GAAgB,IAAVV,EAAUU,EAAVV,IACV,OAA6B,GAAzBA,EAAIW,WAAWC,OACR,IAGPd,EAACe,SAAD,MACIf,EAAA,KAAAS,OAAGO,KAAK,wBAAR,KAEIhB,EAACiB,MAADR,OAAMf,KAAK,oBAEfM,EAACkB,cAAaC,KAAK,SACdjB,EAAIW,WAAWO,IAAI,SAACC,GACjB,OAAOrB,EAACsB,aAAD,MAAeD,aAQ1CxB,MAAO,UACPD,MAAO,SACPE,IAAK,QACLC,OAAQ,SAACC,EAADuB,GAAgB,IAAVrB,EAAUqB,EAAVrB,IACV,OAAwB,GAApBA,EAAIsB,MAAMV,OACH,IAGPd,EAACe,SAAD,MACIf,EAAA,KAAAS,OAAGO,KAAK,wBAAR,KAEIhB,EAACiB,MAADR,OAAMf,KAAK,oBAEfM,EAACkB,cAAaC,KAAK,SACdjB,EAAIsB,MAAMJ,IAAI,SAACC,GACZ,OAAOrB,EAACsB,aAAD,MAAeD,aAQ1CxB,MAAO,UACPD,MAAO,SACPE,IAAK,SACLC,OAAQ,SAACC,EAADyB,GAAgB,IAAVvB,EAAUuB,EAAVvB,IACV,OAAyB,GAArBA,EAAIwB,OAAOZ,OACJ,IAGPd,EAACe,SAAD,MACIf,EAAA,KAAAS,OAAGO,KAAK,wBAAR,KAEIhB,EAACiB,MAADR,OAAMf,KAAK,oBAEfM,EAACkB,cAAaC,KAAK,SACdjB,EAAIwB,OAAON,IAAI,SAACC,GACb,OAAOrB,EAACsB,aAAD,MAAeD,aAQ1CxB,MAAO,KACPD,MAAO,SACPD,MAAO,IACPI,OAAQ,SAACC,EAAD2B,GACJ,OADoBA,EAAVzB,IACHF,EAACG,QAADM,OAAQf,KAAK,QAAQkC,KAAK,WAA1B,gBDlEvBnC,gCAGAoC,+DAIAC,OACAD,6CAIAE,mCAEA,IAAAvC,EAAAC,8IACAuC,mCACAC,EAAAC,YAAAC,IAAAC,OAAAC,EAAAJ,EAAAI,aACAH,UACAG,qBACA,yFAGAH,sBAEA,IAAAI,EAAA7C,8HAEA,aACA,0DACA,OAAA8C,EAAAC,EAAAC,KAAA,SAAAC,yIAIA,WAEAb,oLEtEAc,GADiB5C,OAFjB,WAA0B,IAAA6C,EAAAnD,KAAaoD,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,YAAsBtC,OAAOwC,GAAA,UAAAC,QAAA,UAAiCH,EAAA,aAAkBI,YAAA,qBAA+BJ,EAAA,OAAYI,YAAA,cAAA1C,OAAiCU,KAAA,QAAcA,KAAA,SAAa4B,EAAA,SAAcI,YAAA,eAAA1C,OAAkC2C,KAAA,SAAAC,YAAA,OAAAzB,KAAA,SAAoD0B,OAAQC,MAAAX,EAAA,OAAAY,SAAA,SAAAC,GAA4Cb,EAAAc,OAAAD,GAAeE,WAAA,aAAsB,GAAAf,EAAAgB,GAAA,KAAAb,EAAA,OAA4BtC,OAAOU,KAAA,SAAeA,KAAA,UAAc4B,EAAA,UAAetC,OAAOf,KAAA,WAAiBU,IAAKC,MAAA,SAAAwD,GAAyBjB,EAAAf,eAAiBe,EAAAgB,GAAA,QAAAhB,EAAAgB,GAAA,KAAAb,EAAA,UAA0CtC,OAAOf,KAAA,SAAeU,IAAKC,MAAA,SAAAwD,GAAyBjB,EAAAkB,cAAgBlB,EAAAgB,GAAA,QAAAhB,EAAAgB,GAAA,KAAAb,EAAA,UAA0CtC,OAAOf,KAAA,SAAeU,IAAKC,MAAA,SAAAwD,GAAyBjB,EAAAmB,YAAcnB,EAAAgB,GAAA,gBAAAhB,EAAAgB,GAAA,KAAAb,EAAA,SAAiDtC,OAAOuD,OAAA,GAAAC,QAAArB,EAAAqB,QAAAhC,KAAAW,EAAAX,QAAmDW,EAAAgB,GAAA,KAAAb,EAAA,SAA0BtC,OAAOb,MAAA,WAAiBmD,EAAA,QAAatC,OAAOyD,MAAAtB,EAAAP,MAAA8B,YAAAvB,EAAAZ,OAAAJ,KAAAwC,gBAAA,GAAAC,QAAAzB,EAAAZ,OAAAF,OAAAwC,aAAA,IAA6GlE,IAAKmE,iBAAA,SAAAV,GAAkCjB,EAAA4B,KAAA5B,EAAAZ,OAAA,SAAA6B,IAAuCY,YAAA7B,EAAA8B,eAA6B,QAErrCC,oBCCjB,IAcAC,EAdAC,EAAA,OAcAC,CACAvF,EACAoD,GATA,EAVA,SAAAoC,GACAF,EAAA,SAaA,KAEA,MAUAG,EAAA,QAAAJ,EAAA","file":"static/js/4.0b554603ba2342db68c6.js","sourcesContent":["<template>\r\n    <FyLayout id=\"project\" bgColor=\"#fff\">\r\n        <!-- Project-->\r\n        <SearchBox class=\"margin-bottom-20\">\r\n            <div slot=\"left\" class=\"font-center\">\r\n                <Input class=\"search-input\" v-model=\"value4\" icon=\"search\" placeholder=\"项目名称\" size=\"large\"></Input>\r\n            </div>\r\n            <Row slot=\"right\">\r\n                <Button type=\"primary\" @click=\"showList()\">查询</Button>\r\n                <Button type=\"error\" @click=\"deletes()\">删除</Button>\r\n                <Button type=\"ghost\" @click=\"reset()\">重置</Button>\r\n            </Row>\r\n        </SearchBox>\r\n        <Table border :columns=\"columns\" :data=\"data\"></Table>\r\n        <!--分页-->\r\n        <Block align=\"right\">\r\n            <Page :total=\"count\" :page-size=\"params.size\" show-elevator :current.sync=\"params.pageNo\" show-total @on-change=\"pageChange\"></Page>\r\n        </Block>\r\n    </FyLayout>\r\n</template>\r\n\r\n<script>\r\nimport { Project } from \"@/service\";\r\nimport columns from \"./columns\";\r\nimport { stringify } from \"querystring\";\r\nexport default {\r\n  name: \"Project\",\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      data: [],\r\n      count: 0,\r\n      params: {\r\n        pageNo: 1, //当前页\r\n        size: 20 //每页记录数\r\n      },\r\n      rows: [],\r\n      columns: columns.call(this)\r\n    };\r\n  },\r\n  created() {\r\n    this.showList();\r\n  },\r\n  methods: {\r\n    pageChange(pageNo) {\r\n      this.params.pageNo = pageNo;\r\n      this.showList();\r\n    },\r\n    //重置\r\n    reset() {\r\n      this.$refs.form.resetFields();\r\n    },\r\n    async showList() {\r\n      const { data } = await Project.get(this.params);\r\n      let { rows = [], count } = data;\r\n      this.data = rows;\r\n      this.count = count;\r\n      this.$Message.success(\"加载完成\");\r\n    },\r\n    selectChange(rows) {\r\n      this.rows = rows;\r\n    },\r\n    async deletes() {\r\n      this.$Modal.confirm({\r\n        title: \"提示\",\r\n        content: \"是否确认删除？\",\r\n        onOk: async () => {\r\n          await Log.delete({\r\n            ids: this.rows.map(({ _id }) => _id)\r\n          });\r\n          this.$Message.success(\"删除成功!\");\r\n          this.showList();\r\n        },\r\n        onCancel: () => {}\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n#project{\r\n    .search-input{\r\n        max-width:400px;margin:0 auto;\r\n    }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/project/index.vue","import router from \"../../router\";\r\n\r\n\r\n\r\n\r\nexport default function () {\r\n    return [\r\n        {\r\n            type: \"selection\",\r\n            width: 60,\r\n            align: \"center\"\r\n        },\r\n        {\r\n            title: \"项目ID\",\r\n            key: \"_id\",\r\n            width: 220,\r\n            align: \"center\",\r\n            render: (h, { row }) => {\r\n                const handler = () => {\r\n                    this.$router.push({\r\n                        name: \"Configure\"\r\n                    })\r\n                }\r\n                return <Button onClick={handler} type=\"text\" class=\"link\">{row._id}</Button>\r\n            }\r\n        },\r\n        {\r\n            title: \"项目名称\",\r\n            key: \"pName\",\r\n            align: \"center\",\r\n        },\r\n        {\r\n            title: \"email配置\",\r\n            align: \"center\",\r\n            key: \"sendEmails\",\r\n            render: (h, { row }) => {\r\n                if (row.sendEmails.length == 0) {\r\n                    return '无'\r\n                }\r\n                return (\r\n                    <Dropdown>\r\n                        <a href=\"javascript:void(0)\">\r\n                            查看\r\n                            <Icon type=\"arrow-down-b\"></Icon>\r\n                        </a>\r\n                        <DropdownMenu slot=\"list\">\r\n                            {row.sendEmails.map((item) => {\r\n                                return <DropdownItem>{item}</DropdownItem>\r\n                            })}\r\n                        </DropdownMenu>\r\n                    </Dropdown>\r\n                )\r\n            }\r\n        },\r\n        {\r\n            title: \"hosts过滤\",\r\n            align: \"center\",\r\n            key: \"hosts\",\r\n            render: (h, { row }) => {\r\n                if (row.hosts.length == 0) {\r\n                    return '无'\r\n                }\r\n                return (\r\n                    <Dropdown>\r\n                        <a href=\"javascript:void(0)\">\r\n                            查看\r\n                            <Icon type=\"arrow-down-b\"></Icon>\r\n                        </a>\r\n                        <DropdownMenu slot=\"list\">\r\n                            {row.hosts.map((item) => {\r\n                                return <DropdownItem>{item}</DropdownItem>\r\n                            })}\r\n                        </DropdownMenu>\r\n                    </Dropdown>\r\n                )\r\n            }\r\n        },\r\n        {\r\n            title: \"error过滤\",\r\n            align: \"center\",\r\n            key: \"filter\",\r\n            render: (h, { row }) => {\r\n                if (row.filter.length == 0) {\r\n                    return '无'\r\n                }\r\n                return (\r\n                    <Dropdown>\r\n                        <a href=\"javascript:void(0)\">\r\n                            查看\r\n                            <Icon type=\"arrow-down-b\"></Icon>\r\n                        </a>\r\n                        <DropdownMenu slot=\"list\">\r\n                            {row.filter.map((item) => {\r\n                                return <DropdownItem>{item}</DropdownItem>\r\n                            })}\r\n                        </DropdownMenu>\r\n                    </Dropdown>\r\n                )\r\n            }\r\n        },\r\n        {\r\n            title: \"操作\",\r\n            align: \"center\",\r\n            width: 100,\r\n            render: (h, { row }) => {\r\n                return <Button type=\"error\" size=\"small\">删除</Button>\r\n            }\r\n        },\r\n    ]\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/project/columns.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('FyLayout',{attrs:{\"id\":\"project\",\"bgColor\":\"#fff\"}},[_c('SearchBox',{staticClass:\"margin-bottom-20\"},[_c('div',{staticClass:\"font-center\",attrs:{\"slot\":\"left\"},slot:\"left\"},[_c('Input',{staticClass:\"search-input\",attrs:{\"icon\":\"search\",\"placeholder\":\"项目名称\",\"size\":\"large\"},model:{value:(_vm.value4),callback:function ($$v) {_vm.value4=$$v},expression:\"value4\"}})],1),_vm._v(\" \"),_c('Row',{attrs:{\"slot\":\"right\"},slot:\"right\"},[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.showList()}}},[_vm._v(\"查询\")]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"error\"},on:{\"click\":function($event){_vm.deletes()}}},[_vm._v(\"删除\")]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"ghost\"},on:{\"click\":function($event){_vm.reset()}}},[_vm._v(\"重置\")])],1)],1),_vm._v(\" \"),_c('Table',{attrs:{\"border\":\"\",\"columns\":_vm.columns,\"data\":_vm.data}}),_vm._v(\" \"),_c('Block',{attrs:{\"align\":\"right\"}},[_c('Page',{attrs:{\"total\":_vm.count,\"page-size\":_vm.params.size,\"show-elevator\":\"\",\"current\":_vm.params.pageNo,\"show-total\":\"\"},on:{\"update:current\":function($event){_vm.$set(_vm.params, \"pageNo\", $event)},\"on-change\":_vm.pageChange}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-36ac9eba\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/project/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-36ac9eba\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-36ac9eba\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/project/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}